<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/main}">

<head>

	<head>
		<title>Trang ch·ªß - Qu·∫£n L√Ω Kh√°ch S·∫°n</title>
	</head>

	<style>
		#hero {
			height: 90vh;
			position: relative;
		}

		.hero-img {
			object-fit: cover;
			height: 90vh;
		}

		.overlay {
			z-index: 1;
		}

		#hero .container {
			z-index: 2;
		}

		.booking-box {
			background-color: rgba(255, 255, 255, 0.95);
		}

		@media (max-width: 767px) {
			#hero {
				height: auto;
			}

			.hero-img {
				height: 60vh;
			}

			.booking-box {
				margin-top: 2rem;
			}
		}
	</style>

	<style>
		.hotel-card {
			position: relative;
			border-radius: 16px;
			overflow: hidden;
		}

		.hotel-img {
			width: 100%;
			height: 600px;
			object-fit: cover;
			transition: transform 0.6s ease;
		}

		.hotel-overlay {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3));
			opacity: 0;
			transform: translateY(40px);
			transition: all 0.6s ease;
			z-index: 5;
			/* ƒê·∫£m b·∫£o n·∫±m tr√™n ·∫£nh */
		}

		.hotel-card:hover .hotel-overlay {
			opacity: 1;
			transform: translateY(0);
		}

		.hotel-card:hover .hotel-img {
			transform: scale(1.15);
			filter: brightness(0.8);
		}

		.btn-gradient {
			background: linear-gradient(90deg, #0d6efd, #6610f2);
			border: none;
			color: white;
			font-weight: 600;
			border-radius: 50px;
			padding: 8px 20px;
			transition: all 0.3s ease;
		}

		.btn-gradient:hover {
			background: linear-gradient(90deg, #6610f2, #0d6efd);
			transform: scale(1.05);
		}
		
		.hero-text h1 {
		    color: white !important;
		}

		.hero-text p {
		    color: #f8f9fa !important;
		}

		.booking-box {
		    color: #000 !important; /* ƒë·∫£m b·∫£o form lu√¥n ƒëen */
		}
		
		/* Font size cho form trong hero */
		#hero .booking-box input.form-control,
		#hero .booking-box select.form-select,
		#hero .booking-box label,
		#hero .booking-box button {
		    font-size: 1.1rem; /* 16px, c√≥ th·ªÉ tƒÉng l√™n 1.1rem n·∫øu mu·ªën */
		}

		#hero .booking-box .form-label {
		    font-weight: 600;
		}

		#hero .booking-box button.btn {
		    font-size: 1rem;
		    font-weight: 600;
		}
		
		.hero-text h1 {
		    font-size: 3rem; /* tƒÉng c·ª° ch·ªØ */
		    line-height: 1.2;
		    color: white;
		    display: -webkit-box;
		    -webkit-line-clamp: 2; /* ch·ªâ hi·ªÉn th·ªã 2 d√≤ng */
		    -webkit-box-orient: vertical;
		    overflow: hidden;
		    text-overflow: ellipsis;
		}

		.hero-text p {
		    font-size: 1.25rem; /* tƒÉng c·ª° ch·ªØ */
		    line-height: 1.4;
		    color: #f8f9fa;
		    display: -webkit-box;
		    -webkit-line-clamp: 2; /* ch·ªâ hi·ªÉn th·ªã 2 d√≤ng */
		    -webkit-box-orient: vertical;
		    overflow: hidden;
		    text-overflow: ellipsis;
		}
	</style>

	<!-- Bootstrap Icons -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

	<!-- Flatpickr -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
	<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

	<!-- JS: Date Picker -->
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const today = new Date().toISOString().split("T")[0]; // yyyy-MM-dd
			const checkin = document.getElementById("checkin");
			const checkout = document.getElementById("checkout");

			// Kh√¥ng cho ch·ªçn ng√†y tr∆∞·ªõc h√¥m nay
			checkin.min = today;
			checkout.min = today;

			// N·∫øu ch·ªçn checkin -> th√¨ checkout ph·∫£i >= checkin
			checkin.addEventListener("change", function () {
				checkout.min = checkin.value;
			});
		});
	</script>


</head>

<body>
	<main layout:fragment="content">
		<!-- Hero Section -->
		<!--<section>-->
		<section id="hero" class="position-relative overflow-hidden">

			<!-- üîπ Slider ·∫£nh n·ªÅn -->
			<div id="heroCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img src="/images/navbar/nav1.jpg" class="d-block w-100 hero-img" alt="Hotel view">
					</div>
					<div class="carousel-item">
						<img src="/images/navbar/nav3.jpg" class="d-block w-100 hero-img" alt="Beach resort">
					</div>
					<div class="carousel-item">
						<img src="/images/navbar/nav2.jpg" class="d-block w-100 hero-img" alt="Luxury hotel">
					</div>
				</div>
			</div>

			<!-- üîπ L·ªõp ph·ªß m·ªù -->
			<div class="overlay position-absolute top-0 start-0 w-100 h-100 bg-dark opacity-50"></div>

			<!-- üîπ N·ªôi dung Hero -->
			<div class="container position-absolute top-50 start-50 translate-middle text-white">
				<div class="row align-items-center">
					<!-- B√™n tr√°i: t√™n & slogan -->
					<div class="col-md-6 mb-4 mb-md-0 text-center text-md-start hero-text">
					    <h1 class="display-4 fw-bold mb-3">Kh√°m ph√° kh√°ch s·∫°n m∆° ∆∞·ªõc c·ªßa b·∫°n</h1>
					    <p class="lead">T·∫≠n h∆∞·ªüng k·ª≥ ngh·ªâ tuy·ªát v·ªùi v·ªõi nh·ªØng ∆∞u ƒë√£i ƒë·∫∑c bi·ªát d√†nh ri√™ng cho b·∫°n.</p>
					</div>
					<!-- B√™n ph·∫£i: form booking -->
					<div class="col-md-4 offset-md-2">
						<div class="booking-box bg-white text-dark p-4 rounded-4 shadow-lg"
							style="border-top: 5px solid #0d6efd; transition: transform 0.3s, box-shadow 0.3s;">

							<h3 class="text-center mb-4 fw-bold"
								style="color: #0d6efd; text-shadow: 1px 1px 2px rgba(0,0,0,0.1);  font-size: 1.5rem;">
								Booking Your Hotel
							</h3>

							<form th:action="@{/room/search}" method="post" onsubmit="return validateDates()">
							

								<input type="hidden" name="fromPage" value="index">
							    <!-- Th√†nh ph·ªë -->
								<div class="mb-3">
								     <label class="form-label fw-semibold">Th√†nh ph·ªë</label>
								     <select name="cityId" class="form-select" required>
								         <option value="">-- Ch·ªçn th√†nh ph·ªë --</option>
								         <option th:each="c : ${listThanhPho}" 
								                 th:value="${c.id}" 
								                 th:text="${c.name}">
								         </option>
								     </select>
								 </div>

							    <!-- Check In -->
							    <div class="mb-3">
							        <label class="form-label fw-semibold">Check In</label>
							        <input type="date" name="checkIn" class="form-control" id="fromDate" 
									th:attr="min=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" required>
							    </div>

							    <!-- Check Out -->
							    <div class="mb-3">
							        <label class="form-label fw-semibold">Check Out</label>
							        <input type="date" name="checkOut" class="form-control" id="toDate" 
									th:attr="min=${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" required>
							    </div>

							    <!-- S·ªë gi∆∞·ªùng -->
							    <div class="mb-3">
							        <label class="form-label fw-semibold">S·ªë gi∆∞·ªùng</label>
							        <select name="bed" class="form-select">
										<option value="">-- Kh√¥ng ch·ªçn --</option>
							            <option value="1">1</option>
							            <option value="2">2</option>
							            <option value="3">3</option>
							            <option value="4">4</option>
							        </select>
							    </div>

							    <button type="submit" class="btn btn-gradient w-100 py-2 fw-bold">
							        Check Availability
							    </button>
							</form>


				</div>
			</div>
		</section>

		<!--</section>-->

		<!-- Th√†nh ph·ªë n·ªïi b·∫≠t -->
		<section class="py-5">
			<div class="container">
				<h2 class="text-center mb-5 fw-bold" style="color: #0d6efd;">
					<i class="bi bi-geo-alt-fill"></i> Th√†nh ph·ªë
				</h2>
				<div class="row">
					<div class="col-md-6 mb-4" th:each="thanhPho, iterStat : ${listThanhPho}"
						th:if="${iterStat.index < 2}">
						<a th:href="@{/hotel/city/{id}(id=${thanhPho.id})}" class="text-decoration-none">
							<div class="card card-hover border-0 overflow-hidden">
								<div class="position-relative">
									<img th:src="@{${thanhPho.urlImage}}" class="card-img" alt="Th√†nh ph·ªë"
										style="height: 300px; object-fit: cover;">

									<!-- D√πng flex ƒë·ªÉ ƒë·∫∑t t√™n v√† c·ªù tr√™n c√πng m·ªôt h√†ng -->
									<div class="position-absolute top-0 start-0 p-4 d-flex align-items-center gap-2">
										<h3 class="fw-bold mb-0 text-white" th:text="${thanhPho.name}">Th√†nh ph·ªë</h3>
										<img th:src="@{/images/VietNamFlag.png}" alt="VietNam"
											style="height: 24px; width: auto;">
									</div>
								</div>
							</div>
						</a>
					</div>
				</div>


				<div class="row">
					<div class="col-md-4 mb-4" th:each="thanhPho, iterStat : ${listThanhPho}"
						th:if="${iterStat.index >= 2 and iterStat.index < 10}">
						<a th:href="@{/hotel/city/{id}(id=${thanhPho.id})}" class="text-decoration-none">
							<div class="card card-hover border-0 overflow-hidden">
								<div class="position-relative">
									<img th:src="@{${thanhPho.urlImage}}" class="card-img" alt="Th√†nh ph·ªë"
										style="height: 250px; object-fit: cover;">
									<div class="position-absolute top-0 start-0 p-3 text-white">
										<h4 class="fw-bold" th:text="${thanhPho.name}">Th√†nh ph·ªë</h4>
										<p class="mb-0 small">
											<span th:text="${1 * 135}">0</span> ch·ªó ·ªü
										</p>
									</div>
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
		</section>

		<!-- Lo·∫°i kh√°ch s·∫°n -->
		<section class="py-5 bg-light">
			<div class="container">
				<h2 class="text-center mb-5 fw-bold" style="color: #0d6efd;">
					<i class="bi bi-building-fill"></i> Lo·∫°i kh√°ch s·∫°n
				</h2>
				<div class="row">
					<div class="col-md-3 mb-4" th:each="loaiKhachSan : ${listLoaiKhachSan}">
						<a th:href="@{/hotel/type/{id}(id=${loaiKhachSan.id})}" class="text-decoration-none">
							<div class="card card-hover h-100 border-0">
								<img th:src="@{${loaiKhachSan.urlImage}}" class="card-img-top" alt="Lo·∫°i kh√°ch s·∫°n"
									style="height: 200px; object-fit: cover;">
								<div class="card-body text-center">
									<h5 class="card-title" th:text="${loaiKhachSan.name}">Lo·∫°i kh√°ch s·∫°n</h5>
									<p class="card-text text-muted">
										G·ªìm <span th:text="${1 * 135}">0</span> kh√°ch s·∫°n
									</p>
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
		</section>

		<!-- Kh√°ch s·∫°n n·ªïi b·∫≠t -->
		<!-- Kh√°ch s·∫°n n·ªïi b·∫≠t -->
		<section class="py-5 bg-light">
			<div class="container">
				<h2 class="text-center mb-5 fw-bold" style="color: #0d6efd;">
					<i class="bi bi-star-fill me-2"></i> Kh√°ch s·∫°n n·ªïi b·∫≠t
				</h2>

				<div class="row g-4">
					<!-- Hi·ªÉn th·ªã t·ªëi ƒëa 3 kh√°ch s·∫°n -->
					<div class="col-md-4" th:each="khachSan, iterStat : ${listKhachSan}" th:if="${iterStat.index < 3}">
						<div class="hotel-card position-relative overflow-hidden rounded-4 shadow-lg">

							<!-- ·∫¢nh -->
							<img th:src="@{'/images/KhachSan/' + ${khachSan.id} + '.jpg'}" alt="Kh√°ch s·∫°n"
								class="w-100 hotel-img">

							<!-- Overlay th√¥ng tin -->
							<div class="hotel-overlay d-flex flex-column justify-content-end text-white p-4">
								<div class="overlay-content">
									<h4 class="fw-bold mb-2" th:text="${khachSan.name}">T√™n kh√°ch s·∫°n</h4>
									<p class="mb-1"><i class="bi bi-geo-alt-fill me-1"></i><span
											th:text="${khachSan.cityName}">Th√†nh ph·ªë</span></p>
									<p class="mb-1"><i class="bi bi-building me-1"></i><span
											th:text="${khachSan.typeHotelName}">Lo·∫°i kh√°ch s·∫°n</span></p>

									<div class="d-flex align-items-center mb-3">
										<span class="me-2" style="color: #FFD700;">
											<span th:each="i : ${#numbers.sequence(1, khachSan.evaluate)}">‚òÖ</span>
										</span>
										<span class="fw-bold" th:text="${khachSan.evaluate} + ' sao'">5 sao</span>
									</div>

									<a th:href="@{/hotel/{id}(id=${khachSan.id})}" class="btn btn-gradient btn-sm">Xem
										chi ti·∫øt</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>


	</main>

</body>

</html>
