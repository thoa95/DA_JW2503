<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/main}">
<head>

    <!-- Website Title -->
    <title>Log In || Hotel Booking</title>
    
   
</head>
<body data-spy="scroll" data-target=".fixed-top">
    
 
<div layout:fragment="content">
    <div class="container py-5">
        <h2 class="mb-4 text-center fw-bold">üïí L·ªãch s·ª≠ ƒë·∫∑t ph√≤ng</h2>

       <div th:if="${bookings == null or #lists.isEmpty(bookings)}" class="alert alert-info text-center">

            B·∫°n ch∆∞a c√≥ ƒë∆°n ƒë·∫∑t ph√≤ng n√†o.
        </div>

        <div th:if="${bookings != null and !#lists.isEmpty(bookings)}" class="table-responsive">

            <table class="table table-hover align-middle shadow-sm">
                <thead class="table-primary">
                <tr>
                    <th>#</th>
                    <th>T√™n ph√≤ng</th>
                    <th>Ng√†y nh·∫≠n</th>
                    <th>Ng√†y tr·∫£</th>
                    <th>T·ªïng ti·ªÅn</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th>Thao t√°c</th>
                </thead>
                <tbody>
                <tr th:each="b, iStat : ${bookings}">
                    <td th:text="${iStat.index + 1}"></td>
                    <td th:text="${b.roomName}"></td>
                    <td th:text="${#dates.format(b.checkInDate, 'dd/MM/yyyy')}"></td>
                    <td th:text="${#dates.format(b.checkOutDate, 'dd/MM/yyyy')}"></td>
                    <td th:text="${#numbers.formatDecimal(b.totalPrice, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></td>
                    <td>
                        <span th:classappend="${b.status == 'ƒê√£ x√°c nh·∫≠n'} ? 'badge bg-success' :
                                              ${b.status == 'ƒêang x·ª≠ l√Ω'} ? 'badge bg-warning' :
                                              ${b.status == 'ƒê√£ h·ªßy'} ? 'badge bg-danger' : 'badge bg-secondary'"
                              th:text="${b.status}">
                        </span>
                    </td>
                    <td>
                        <a th:href="@{'/booking/detail/' + ${b.bookingId}}" class="btn btn-sm btn-outline-primary me-2">
                            <i class="fa fa-eye"></i> Xem chi ti·∫øt
                        </a>
                        <a th:if="${b.status != 'ƒê√£ h·ªßy' and b.status != 'ƒê√£ nh·∫≠n ph√≤ng'}"
                           th:href="@{'/booking/cancel/' + ${b.bookingId}}"
                           class="btn btn-sm btn-outline-danger"
                           onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën h·ªßy ƒë·∫∑t ph√≤ng n√†y kh√¥ng?')">
                            <i class="fa fa-times"></i> H·ªßy
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


</body>
</html>